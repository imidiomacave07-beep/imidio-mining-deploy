<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Imidio Mining Platform</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
  h1, h2 { color: #333; }
  .plan, .section { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fff; }
  button { padding: 6px 12px; cursor: pointer; margin-top: 5px; }
</style>
</head>
<body>

<h1>Bem-vindo, <span id="userName">Usuário</span>!</h1>
<p>Saldo: <span id="balance">0 BTC ≈ $0</span></p>

<div class="section">
<h2>Planos Disponíveis</h2>
<div id="plans"></div>
</div>

<div class="section">
<h2>Depósitos Mais Recentes</h2>
<ul id="deposits"></ul>
</div>

<div class="section">
<h2>Últimos Levantamentos</h2>
<ul id="withdrawals"></ul>
</div>

<script>
document.getElementById("userName").innerText = "Imidio";
document.getElementById("balance").innerText = "0.0072130169 BTC ≈ $656.32";

// Carregar planos
fetch("/api/plans")
  .then(res => res.json())
  .then(plans => {
    const plansDiv = document.getElementById("plans");
    plans.forEach(plan => {
      const div = document.createElement("div");
      div.className = "plan";
      div.innerHTML = `
        <strong>${plan.name}</strong><br>
        Preço: $${plan.price}<br>
        Lucro: ${plan.profitPercent}% em ${plan.durationDays} dias (Saque: ${plan.withdrawDelayDays} dias)<br>
        <button onclick="buyPlan(${plan._id})">Comprar</button>
      `;
      plansDiv.appendChild(div);
    });
  });

// Carregar depósitos
fetch("/api/deposits")
  .then(res => res.json())
  .then(deposits => {
    const depositsUl = document.getElementById("deposits");
    deposits.forEach(d => {
      const li = document.createElement("li");
      li.textContent = `${d.user}: ${d.amount}`;
      depositsUl.appendChild(li);
    });
  });

// Carregar levantamentos
fetch("/api/withdrawals")
  .then(res => res.json())
  .then(withdrawals => {
    const withdrawalsUl = document.getElementById("withdrawals");
    withdrawals.forEach(w => {
      const li = document.createElement("li");
      li.textContent = `${w.user}: ${w.amount}`;
      withdrawalsUl.appendChild(li);
    });
  });

// Função de compra (exemplo)
function buyPlan(planId) {
  alert(`Plano ${planId} comprado! (integração futura com backend)`);
}
</script>

</body>
</html>
