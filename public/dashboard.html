<h2>Status da mineração: <span id="status">Carregando...</span></h2>
<button id="startBtn">Iniciar Mineração</button>
<button id="stopBtn">Parar Mineração</button>

<script>
  const statusEl = document.getElementById("status");
  const startBtn = document.getElementById("startBtn");
  const stopBtn = document.getElementById("stopBtn");

  // Atualizar status
  async function getStatus() {
    const res = await fetch("/api/mining/status");
    const data = await res.json();
    statusEl.textContent = data.status;
  }

  getStatus(); // chama no carregamento da página

  // Iniciar mineração
  startBtn.addEventListener("click", async () => {
    const res = await fetch("/api/mining/start", { method: "POST" });
    const data = await res.json();
    statusEl.textContent = data.status;
  });

  // Parar mineração
  stopBtn.addEventListener("click", async () => {
    const res = await fetch("/api/mining/stop", { method: "POST" });
    const data = await res.json();
    statusEl.textContent = data.status;
  });
</script>
